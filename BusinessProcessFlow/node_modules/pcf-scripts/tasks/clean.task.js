"use strict";
// Copyright (C) Microsoft Corporation. All rights reserved.
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs-extra");
const diagnosticMessages_generated_1 = require("../diagnosticMessages.generated");
const locale_generated_1 = require("../locale.generated");
class CleanTask {
    getDescription() {
        return locale_generated_1.translate(diagnosticMessages_generated_1.strings.task_clean_outputs.key);
    }
    setOptions(options) {
        this._options = options;
    }
    run(context) {
        const outDir = context.getOutDir();
        if (!outDir) {
            context.getDiagnostic().push(diagnosticMessages_generated_1.strings.buildconfig_no_outdir);
            return Promise.reject();
        }
        fs.emptyDirSync(outDir);
        return Promise.resolve();
    }
}
exports.CleanTask = CleanTask;
